{"openapi":"3.1.0","info":{"title":"Advertisement API","description":"API для размещения рекламных объявлений","version":"0.0.1"},"paths":{"/api/v1/advertisement/":{"post":{"tags":["advertisement"],"summary":"Create Advertisement","operationId":"create_advertisement_api_v1_advertisement__post","parameters":[{"name":"x-token","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdvertisementRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdvertisementResponse"}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"example":{"detail":"Token not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["advertisement"],"summary":"Search Advertisement","operationId":"search_advertisement_api_v1_advertisement__get","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchAdvertisementRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchAdvertisementResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/advertisement/{advertisement_id}":{"get":{"tags":["advertisement"],"summary":"Get Advertisement","operationId":"get_advertisement_api_v1_advertisement__advertisement_id__get","parameters":[{"name":"advertisement_id","in":"path","required":true,"schema":{"type":"integer","title":"Advertisement Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetAdvertisementResponse"}}}},"404":{"description":"Item doesn't exist","content":{"application/json":{"example":{"detail":"Item not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["advertisement"],"summary":"Update Advertisement","operationId":"update_advertisement_api_v1_advertisement__advertisement_id__patch","parameters":[{"name":"advertisement_id","in":"path","required":true,"schema":{"type":"integer","title":"Advertisement Id"}},{"name":"x-token","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdvertisementRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAdvertisementResponse"}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"example":{"detail":"Token not found"}}}},"403":{"description":"No permission","content":{"application/json":{"example":{"detail":"Insufficient privileges"}}}},"404":{"description":"Item doesn't exist","content":{"application/json":{"example":{"detail":"Item not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["advertisement"],"summary":"Delete Advertisement","operationId":"delete_advertisement_api_v1_advertisement__advertisement_id__delete","parameters":[{"name":"advertisement_id","in":"path","required":true,"schema":{"type":"integer","title":"Advertisement Id"}},{"name":"x-token","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteAdvertisementResponse"}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"example":{"detail":"Token not found"}}}},"403":{"description":"No permission","content":{"application/json":{"example":{"detail":"Insufficient privileges"}}}},"404":{"description":"Item doesn't exist","content":{"application/json":{"example":{"detail":"Item not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user/":{"post":{"tags":["user"],"summary":"Create User","operationId":"create_user_api_v1_user__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/user/{user_id}":{"get":{"tags":["user"],"summary":"Get User","operationId":"get_user_api_v1_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserResponse"}}}},"404":{"description":"Item doesn't exist","content":{"application/json":{"example":{"detail":"Item not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["user"],"summary":"Update User","operationId":"update_user_api_v1_user__user_id__patch","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"x-token","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Token"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserResponse"}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"example":{"detail":"Token not found"}}}},"403":{"description":"No permission","content":{"application/json":{"example":{"detail":"Insufficient privileges"}}}},"404":{"description":"Item doesn't exist","content":{"application/json":{"example":{"detail":"Item not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["user"],"summary":"Delete User","operationId":"delete_user_api_v1_user__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"x-token","in":"header","required":true,"schema":{"type":"string","format":"uuid","title":"X-Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteUserResponse"}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"example":{"detail":"Token not found"}}}},"403":{"description":"No permission","content":{"application/json":{"example":{"detail":"Insufficient privileges"}}}},"404":{"description":"Item doesn't exist","content":{"application/json":{"example":{"detail":"Item not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login/":{"post":{"tags":["login"],"summary":"Login","operationId":"login_api_v1_login__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"401":{"description":"Invalid or expired token","content":{"application/json":{"example":{"detail":"Token not found"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CreateAdvertisementRequest":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"type":"number","title":"Price"},"author":{"type":"string","title":"Author"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","required":["title","price","author"],"title":"CreateAdvertisementRequest"},"CreateAdvertisementResponse":{"properties":{"id":{"type":"integer","title":"Id"}},"type":"object","required":["id"],"title":"CreateAdvertisementResponse"},"CreateUserRequest":{"properties":{"name":{"type":"string","title":"Name"},"password":{"type":"string","title":"Password"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},"type":"object","required":["name","password"],"title":"CreateUserRequest"},"CreateUserResponse":{"properties":{"id":{"type":"integer","title":"Id"}},"type":"object","required":["id"],"title":"CreateUserResponse"},"DeleteAdvertisementResponse":{"properties":{"status":{"type":"string","const":"success","title":"Status"}},"type":"object","required":["status"],"title":"DeleteAdvertisementResponse"},"DeleteUserResponse":{"properties":{"status":{"type":"string","const":"success","title":"Status"}},"type":"object","required":["status"],"title":"DeleteUserResponse"},"GetAdvertisementResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"price":{"type":"number","title":"Price"},"author":{"type":"string","title":"Author"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","title","description","price","author","created_at"],"title":"GetAdvertisementResponse"},"GetUserResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"role":{"type":"string","title":"Role"}},"type":"object","required":["id","name","role"],"title":"GetUserResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LoginRequest":{"properties":{"name":{"type":"string","title":"Name"},"password":{"type":"string","title":"Password"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},"type":"object","required":["name","password"],"title":"LoginRequest"},"LoginResponse":{"properties":{"token":{"type":"string","format":"uuid","title":"Token"}},"type":"object","required":["token"],"title":"LoginResponse"},"SearchAdvertisementRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","title":"SearchAdvertisementRequest"},"SearchAdvertisementResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/GetAdvertisementResponse"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"SearchAdvertisementResponse"},"UpdateAdvertisementRequest":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"author":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"}},"type":"object","title":"UpdateAdvertisementRequest"},"UpdateAdvertisementResponse":{"properties":{"status":{"type":"string","const":"success","title":"Status"}},"type":"object","required":["status"],"title":"UpdateAdvertisementResponse"},"UpdateUserRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}},"type":"object","title":"UpdateUserRequest"},"UpdateUserResponse":{"properties":{"status":{"type":"string","const":"success","title":"Status"}},"type":"object","required":["status"],"title":"UpdateUserResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}